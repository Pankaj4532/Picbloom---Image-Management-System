{"version":3,"file":"albumAdd-NHR2P5Fe.js","sources":["../../src/pages/albums/albumAdd.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { Button, TextField } from \"@mui/material\";\nimport { fetchPostDataWithAuth } from \"client/client\";\n\nconst AddAlbumform = () => {\n  const navigate = useNavigate();\n\n  useEffect(() => {\n    const isLoggedIn = localStorage.getItem(\"token\");\n    if (!isLoggedIn) {\n      navigate(\"/login\");\n    }\n  }, [navigate]);\n\n  const [formData, setFormData] = useState({\n    name: \"\",\n    description: \"\",\n  });\n  const [errors, setErrors] = useState({\n    name: \"\",\n    description: \"\",\n  });\n\n  const handleInputChange = (e) => {\n    const { name, value } = e.target;\n    setFormData((prevData) => ({\n      ...prevData,\n      [name]: value,\n    }));\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n\n    //Validation\n    let isValid = true;\n    const newErrors = { name: \"\", description: \"\" };\n\n    if (!formData.name.trim()) {\n      newErrors.name = \"Name is required\";\n      isValid = false;\n    }\n\n    if (!formData.description.trim()) {\n      newErrors.description = \"Description is required\";\n      isValid = false;\n    }\n\n    setErrors(newErrors);\n\n    // If form is valid, you can proceed with further actions\n\n    if (isValid) {\n      const payload = {\n        name: formData.name,\n        description: formData.description,\n      };\n      try {\n        const response = await fetchPostDataWithAuth(\"/albums/add\", payload);\n        console.log(\"Album Created\", response);\n        navigate(\"/albums\");\n      } catch (error) {\n        console.error(\"Album creation error:\", error);\n      }\n    }\n  };\n  return (\n    <form onSubmit={handleSubmit}>\n      <TextField\n        variant=\"outlined\"\n        margin=\"normal\"\n        fullWidth\n        label=\"name\"\n        name=\"name\"\n        value={formData.name}\n        onChange={handleInputChange}\n        error={!!errors.name}\n        helperText={errors.name}\n      />\n      <TextField\n        variant=\"outlined\"\n        margin=\"normal\"\n        fullWidth\n        label=\"description\"\n        name=\"description\"\n        value={formData.description}\n        onChange={handleInputChange}\n        error={!!errors.description}\n        helperText={errors.description}\n        multiline\n        rows={4}\n      />\n      <Button variant=\"contained\" color=\"primary\" type=\"submit\">\n        Add Album\n      </Button>\n    </form>\n  );\n};\nexport default AddAlbumform;\n"],"names":["AddAlbumform","navigate","useNavigate","useEffect","formData","setFormData","useState","errors","setErrors","handleInputChange","e","name","value","prevData","handleSubmit","isValid","newErrors","payload","response","fetchPostDataWithAuth","error","jsxs","jsx","TextField","Button"],"mappings":"oLAKA,MAAMA,EAAe,IAAM,CACzB,MAAMC,EAAWC,EAAA,EAEjBC,EAAAA,UAAU,IAAM,CACK,aAAa,QAAQ,OAAO,GAE7CF,EAAS,QAAQ,CAErB,EAAG,CAACA,CAAQ,CAAC,EAEb,KAAM,CAACG,EAAUC,CAAW,EAAIC,WAAS,CACvC,KAAM,GACN,YAAa,EAAA,CACd,EACK,CAACC,EAAQC,CAAS,EAAIF,WAAS,CACnC,KAAM,GACN,YAAa,EAAA,CACd,EAEKG,EAAqBC,GAAM,CAC/B,KAAM,CAAE,KAAAC,EAAM,MAAAC,CAAA,EAAUF,EAAE,OAC1BL,EAAaQ,IAAc,CACzB,GAAGA,EACH,CAACF,CAAI,EAAGC,CAAA,EACR,CACJ,EAEME,EAAe,MAAOJ,GAAM,CAChCA,EAAE,eAAA,EAGF,IAAIK,EAAU,GACd,MAAMC,EAAY,CAAE,KAAM,GAAI,YAAa,EAAA,EAgB3C,GAdKZ,EAAS,KAAK,SACjBY,EAAU,KAAO,mBACjBD,EAAU,IAGPX,EAAS,YAAY,SACxBY,EAAU,YAAc,0BACxBD,EAAU,IAGZP,EAAUQ,CAAS,EAIfD,EAAS,CACX,MAAME,EAAU,CACd,KAAMb,EAAS,KACf,YAAaA,EAAS,WAAA,EAExB,GAAI,CACF,MAAMc,EAAW,MAAMC,EAAsB,cAAeF,CAAO,EACnE,QAAQ,IAAI,gBAAiBC,CAAQ,EACrCjB,EAAS,SAAS,CACpB,OAASmB,EAAO,CACd,QAAQ,MAAM,wBAAyBA,CAAK,CAC9C,CACF,CACF,EACA,OACEC,EAAAA,KAAC,OAAA,CAAK,SAAUP,EACd,SAAA,CAAAQ,EAAAA,IAACC,EAAA,CACC,QAAQ,WACR,OAAO,SACP,UAAS,GACT,MAAM,OACN,KAAK,OACL,MAAOnB,EAAS,KAChB,SAAUK,EACV,MAAO,CAAC,CAACF,EAAO,KAChB,WAAYA,EAAO,IAAA,CAAA,EAErBe,EAAAA,IAACC,EAAA,CACC,QAAQ,WACR,OAAO,SACP,UAAS,GACT,MAAM,cACN,KAAK,cACL,MAAOnB,EAAS,YAChB,SAAUK,EACV,MAAO,CAAC,CAACF,EAAO,YAChB,WAAYA,EAAO,YACnB,UAAS,GACT,KAAM,CAAA,CAAA,EAERe,EAAAA,IAACE,GAAO,QAAQ,YAAY,MAAM,UAAU,KAAK,SAAS,SAAA,WAAA,CAE1D,CAAA,EACF,CAEJ"}