import{u as b,b as x,r as c,j as i}from"./index-8HAMVEHB.js";import{f as v,e as y}from"./client-BDR7rpum.js";import{T as p}from"./TextField-XHbNzIif.js";import{B as E}from"./Button-DrrtKREI.js";const w=()=>{const o=b(),f=x(),l=new URLSearchParams(f.search).get("id");c.useEffect(()=>{localStorage.getItem("token")||o("/login"),v("/albums/"+l).then(e=>{e.data&&u(t=>({...t,name:e.data.name,description:e.data.description}))})},[o]);const[a,u]=c.useState({name:"",description:""}),[r,h]=c.useState({name:"",description:""}),d=n=>{const{name:e,value:t}=n.target;u(s=>({...s,[e]:t}))},g=async n=>{n.preventDefault();let e=!0;const t={name:"",description:""};if(a.name.trim()||(t.name="Name is required",e=!1),a.description.trim()||(t.description="Description is required",e=!1),h(t),e){const s={name:a.name,description:a.description};try{const m=await y("/albums/"+l+"/update",s);console.log("Album Created",m),o("/albums")}catch(m){console.error("Album creation error:",m)}}};return i.jsxs("form",{onSubmit:g,children:[i.jsx(p,{variant:"outlined",margin:"normal",fullWidth:!0,label:"name",name:"name",value:a.name,onChange:d,error:!!r.name,helperText:r.name}),i.jsx(p,{variant:"outlined",margin:"normal",fullWidth:!0,label:"description",name:"description",value:a.description,onChange:d,error:!!r.description,helperText:r.description,multiline:!0,rows:4}),i.jsx(E,{variant:"contained",color:"primary",type:"submit",children:"Edit Album"})]})};export{w as default};
//# sourceMappingURL=albumEdit-C9YT2iz-.js.map
