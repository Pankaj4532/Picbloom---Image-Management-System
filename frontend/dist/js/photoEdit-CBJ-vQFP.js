import{u as E,b as j,r as d,j as i}from"./index-8HAMVEHB.js";import{e as y}from"./client-BDR7rpum.js";import{T as g}from"./TextField-XHbNzIif.js";import{B as S}from"./Button-DrrtKREI.js";const I=()=>{const s=E(),f=j(),r=new URLSearchParams(f.search),b=r.get("album_id"),x=r.get("photo_id"),u=r.get("photo_name");let m=r.get("photo_desc");d.useEffect(()=>{localStorage.getItem("token")||s("/login"),p(e=>({...e,name:u||"",description:m==="null"?"":m||""}))},[s,u,m]);const[t,p]=d.useState({name:"",description:""}),[a,v]=d.useState({name:"",description:""}),h=n=>{const{name:e,value:o}=n.target;p(c=>({...c,[e]:o}))},_=async n=>{n.preventDefault();let e=!0;const o={name:"",description:""};if(t.name.trim()||(o.name="Name is required",e=!1),t.description.trim()||(o.description="Description is required",e=!1),v(o),e){const c={name:t.name,description:t.description};try{const l=await y("/albums/"+b+"/photos/"+x+"/update-photos",c);console.log("Album Created",l),s("/albums")}catch(l){console.error("Album creation error:",l)}}};return i.jsxs("form",{onSubmit:_,children:[i.jsx(g,{variant:"outlined",margin:"normal",fullWidth:!0,label:"name",name:"name",value:t.name,onChange:h,error:!!a.name,helperText:a.name}),i.jsx(g,{variant:"outlined",margin:"normal",fullWidth:!0,label:"description",name:"description",value:t.description,onChange:h,error:!!a.description,helperText:a.description,multiline:!0,rows:4}),i.jsx(S,{variant:"contained",color:"primary",type:"submit",children:"Edit Photo"})]})};export{I as default};
//# sourceMappingURL=photoEdit-CBJ-vQFP.js.map
